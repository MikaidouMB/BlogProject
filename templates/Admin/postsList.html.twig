{% extends 'base.html.twig' %}
{% block body %}
    <div id="mySidebar" class="sidebar" >
        <a href="index.php?route=adminPostList">Articles</a>
        <a href="index.php?route=adminPostcomments">Commentaires</a>
        <a href="index.php?route=adminPostUsers">Utilisateurs</a>
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">x</a>
    </div>
    <div id="main">
        <button class="openbtn" onclick="openNav()">&#9776;</button>
        <div class="container mt-3">

       <h1>Gérer les articles</h1>
       <table class="table table-striped">
           <thead>
               <tr>
                   <th class="col-md-2">Titre</th>
                   <th>Auteur</th>
                   <th>Contenu</th>
                   <th>Actions</th>
           </thead>
           {% for post in posts %}
                   <td>{{ post.title }}</td>
                   <td>{{ post.author }}</td>
                   <td>{{ post.content|length > 300 ? post.content|slice(0,200) ~ '...'}}
                       <a href="index.php?route=editAdminPost&id={{ post.id }}" tabindex="0" class="btn bg-blue-ui white read">Lire plus</a>
                   </td>
                   <td class="col-md-3">
                       <div class="btn-group" role="group" aria-label="Basic example">
                       <a href="index.php?route=editAdminPost&id={{ post.id }}"
                          class="btn btn-warning btn-lg active" role="button" aria-pressed="true">Modifier</a>
                       <a href="index.php?route=deleteAdminPost&id={{ post.id }}"
                          onclick="return confirm('Voulez-vous effacer l\'article n°{{ post.title }} ?')"
                          class="btn btn-danger btn-lg active" role="button" aria-pressed="true">Supprimer</a>
                       </div>
                   </td>
               </tr>
           {% endfor %}
       </table>
   </div>
   </div>
{% endblock %}